(ns domain\rss)

(defstruct item [title guid pub-date])

(defn parse-rss [content]
  (let [parser (php/new \SimpleXMLElement content)
        entries (php/-> parser (xpath "/rss/channel/item"))]
    (map (fn [x] (item
                   (str (first (php/-> x (xpath "title"))))
                   (str (first (php/-> x (xpath "guid"))))
                   (str (first (php/-> x (xpath "pubDate"))))))
         entries)))
